import{r as l,a as d,b as t,s as c,e as w,v as m,x as f,t as b,u as g,j as v}from"./vue-CbfYRXie.js";import{a as h}from"./network-QpDy7ETe.js";import{u as x}from"./index-CY_W9l9r.js";import"./pdf-BllNUW5F.js";const y={class:"h-screen flex items-center justify-center bg-gray-100"},_={class:"bg-white p-8 shadow rounded-lg w-96"},S={key:0,class:"text-red-500 mt-3"},I={__name:"Login",setup(k){const o=l(""),r=l(""),a=l(""),n=g(),u=x(),p=async()=>{try{(await h.post("/api/login",{userId:o.value,password:r.value},{withCredentials:!0})).data.success&&(await u.loadSession(),u.roles.map(s=>s.role_name||s).includes("회계")?n.push("/reportForm"):n.push("/approvalStatus"))}catch{a.value="로그인 실패"}};return(i,e)=>(v(),d("div",y,[t("div",_,[e[2]||(e[2]=t("h2",{class:"text-2xl font-bold mb-6 text-center"},"🔐 로그인",-1)),c(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>o.value=s),type:"text",placeholder:"사용자 ID",class:"w-full mb-3 p-2 border rounded"},null,512),[[m,o.value]]),c(t("input",{"onUpdate:modelValue":e[1]||(e[1]=s=>r.value=s),type:"password",placeholder:"비밀번호",class:"w-full mb-3 p-2 border rounded",onKeyup:f(p,["enter"])},null,544),[[m,r.value]]),t("button",{onClick:p,class:"w-full bg-purple-600 text-white py-2 rounded hover:bg-purple-700"}," 로그인 "),a.value?(v(),d("p",S,b(a.value),1)):w("",!0)])]))}};export{I as default};
