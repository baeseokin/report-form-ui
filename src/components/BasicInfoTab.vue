<template>
  <div class="space-y-6 font-nanum">
    <h2 class="text-xl font-bold text-gray-800">ğŸ“Œ ê¸°ë³¸ ì •ë³´ ì…ë ¥</h2>

    <!-- ë¬¸ì„œ ì¢…ë¥˜ ì„ íƒ -->
    <div>
      <p class="text-lg font-semibold text-purple-700 mb-3">ë¬¸ì„œ ì¢…ë¥˜</p>
      <div class="flex gap-4">
        <label
          v-for="type in documentTypes"
          :key="type"
          class="flex-1 cursor-pointer border rounded-lg p-4 text-center shadow-sm transition
                 hover:shadow-md"
          :class="documentType === type ? 'bg-purple-100 border-purple-500 text-purple-700 font-bold' : 'bg-white border-gray-300'"
        >
          <input
            type="radio"
            :value="type"
            :checked="documentType === type"
            @change="$emit('update:documentType', type)"
            class="hidden"
          />
          {{ type }}
        </label>
      </div>
    </div>

    <!-- ë¶€ì„œëª… / ì‘ì„±ì / ì œì¶œì¼ì -->
    <div class="grid grid-cols-3 gap-4">
      <!-- ë¶€ì„œëª… ì„ íƒ -->
      <select
        :value="selectedDept"
        @change="$emit('update:selectedDept', $event.target.value)"
        class="border p-3 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-400"
      >
        <option disabled value="">ë¶€ì„œëª… ì„ íƒ</option>
        <option v-for="(data, dept) in deptData" :key="dept" :value="dept">{{ dept }}</option>
      </select>

      <!-- ì‘ì„±ì -->
      <input
        type="text"
        :value="author"
        @input="$emit('update:author', $event.target.value)"
        placeholder="ì‘ì„±ì"
        class="border p-3 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-400"
      />

      <!-- ì œì¶œì¼ì -->
      <input
        type="date"
        :value="date"
        @input="$emit('update:date', $event.target.value)"
        class="border p-3 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-400"
      />
    </div>

    <!-- âœ… ì²­êµ¬ìš”ì²­ ë³„ì¹­ ì…ë ¥ë€ -->
    <div>
      <label class="block text-lg font-semibold text-gray-700 mb-2">ì²­êµ¬ìš”ì²­ ë³„ì¹­</label>
      <input
        type="text"
        :value="aliasName"
        @input="$emit('update:aliasName', $event.target.value)"
        maxlength="100"
        placeholder="ì²­êµ¬ìš”ì²­ ë³„ì¹­ ì…ë ¥ (ìµœëŒ€ 100ì)"
        class="border p-3 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-400 w-full"
      />
    </div>

    <!-- âœ… ì•ˆë‚´ ë¬¸êµ¬ ì¶”ê°€ -->
    <p class="text-sm text-gray-500 italic">
      â— ì²­êµ¬ëª©ë¡ ì¡°íšŒí™”ë©´ì—ì„œ ê¸°ì¡´ ì²­êµ¬ë‚´ì—­ì„ ì¬ì‚¬ìš©í•˜ì—¬ ë³´ê³ ì„œë¥¼ ì‘ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
    </p>

    <!-- ë‹¤ìŒ ë²„íŠ¼ -->
    <div class="flex justify-end mt-6">
      <button
        @click="$emit('next')"
        class="bg-blue-500 hover:bg-blue-600 text-white px-6 py-2 rounded-lg shadow-md transition"
      >
        ë‹¤ìŒ â†’
      </button>
    </div>
  </div>
</template>

<script setup>
const props = defineProps([
  "selectedDept",
  "author",
  "date",
  "deptData",
  "documentType",
  "aliasName", // âœ… ì¶”ê°€ë¨
]);

const emits = defineEmits([
  "update:selectedDept",
  "update:author",
  "update:date",
  "update:documentType",
  "update:aliasName", // âœ… ì¶”ê°€ë¨
  "next",
]);

// ë¬¸ì„œ ì¢…ë¥˜ ë¦¬ìŠ¤íŠ¸
const documentTypes = ["ì²­êµ¬ì§€ì¶œê²°ì˜ì„œ", "ì •ì‚°ì§€ì¶œê²°ì˜ì„œ", "ê°€ë¶ˆì§€ì¶œê²°ì˜ì„œ"];
</script>
